query CurrentPlayer($playerUuid: uuid!, $joinCode: String!) {
  players(
    where: {
      uuid: { _eq: $playerUuid }
      game: { join_code: { _eq: $joinCode } }
    }
  ) {
    id
    uuid
    username
    game {
      id
      join_code
      host {
        id
        username
      }
    }
  }
}

query CurrentPlayerById($id: Int!) {
  players_by_pk(id: $id) {
    id
    uuid
    username
    game {
      id
      join_code
      host {
        id
        username
      }
    }
  }
}

subscription CurrentGame($joinCode: String!) {
  games(where: { join_code: { _eq: $joinCode } }) {
    id
    join_code
    starting_letter
    seconds_per_turn
    num_entries_per_player
    state
    host {
      id
      username
    }
    cards_aggregate {
      aggregate {
        count
      }
    }
    players_aggregate {
      aggregate {
        count
      }
    }
  }
}

query GameByJoinCode($joinCode: String!) {
  games(where: { join_code: { _eq: $joinCode } }) {
    id
    join_code
    host {
      id
      username
    }
  }
}

subscription GameById($id: Int!) {
  games_by_pk(id: $id) {
    id
    join_code
  }
}
